{% extends 'DEMOAPP1/base.html' %}
{% block head %}
<!DOCTYPE HTML>
<html>
<head>
    {% load static %}
<link rel="stylesheet" href="{% static 'DEMOAPP1\style.css' %}" >
</head>
<body>
<h1>Pie Chart</h1>
 <div id="piechart_3d" style="width: 100% ; position: relative;height: 500px;">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart(Query) {
      var arr=new Array([{{Query|safe}}]);
    console.log(arr[0][0][1]);
    console.log(typeof(arr[0][0][1]));
        var data = google.visualization.arrayToDataTable(arr[0][0]);
       var options = {
          title: '{{Insight}}',
          is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
        chart.draw(data, options);
      }
    </script>
   </div>
 {% load static %}
</body>
</html>
{% endblock %}